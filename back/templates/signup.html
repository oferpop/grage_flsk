{% extends 'layout.html' %}
{% block title %}Sign up{% endblock %}
{% block head %}
    {{super()}}
{% endblock %}

{% block content %}

<main class="form-signin w-100 m-auto">
    <form method="post" action="{{ url_for('signup') }}">
      <h1 class="h3 mb-3 fw-normal">Create a new account</h1>

      <div class="form-floating">
        <input type="text" placeholder="Username" class="form-control" id="new_username" name="new_username" required>
        <label for="new_username">Username</label>
      </div>
      <div class="form-floating">
        <input type="password" placeholder="Password" class="form-control" id="new_password" name="new_password"
          required>
        <label for="new_password">Password</label>
      </div>
      <div class="form-floating" style="margin-top:-10px ;">
        <input type="password" placeholder="Confirm Password" class="form-control" id="confirm_password"
          name="confirm_password" required>
        <label for="confirm_password">Confirm Password</label>
      </div>

      <br>
      <button class="btn btn-warning w-100 py-2" type="submit" value="Signup" onclick="return validatePasswords()">Submit</button>
    </form>
    <div style="text-align: center;">
      <p class="mt-5 mb-3 text-body-secondary" id="msg">{{msg}}</p>
   </div>

  </main>

  <div class="w-100 m-auto px-4 pt-5 my-5 text-center">
    <div class="overflow-hidden">
        <div class="container px-5">
            <img src="https://picsum.photos/700/300" class="img-fluid border rounded-3 shadow-lg mb-4">
        </div>
    </div>
    </div>
    



  <script>
    // Checks if the passwords match
    function validatePasswords() {
      let password = new_password.value;
      let confirmPassword = confirm_password.value;

      if (password !== confirmPassword) {
        msg.innerHTML = 'Passwords do not match. Please re-enter.';
        return false;
      }
      else{
        return true;
      }

    }

  </script>
{% endblock %}